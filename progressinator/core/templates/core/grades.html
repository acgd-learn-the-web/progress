{% extends 'default.html' %}

{% load data %}

{% block wrapper %}
  <div class="grid">
    <div class="class unit [ xs-1 s-1 m-1-2 ] gutter-1-4 pad-t-1-2 pad-b-1-2">
      <div class="class-desc gutter-1-4">
        <h2 class="class-heading gutter-1-4 push giga"><span>Grade</span></h2>
        <h3 class="tenamega push brand-dark" aria-label="{{amount_complete | pretty_percent_small}} complete this course" title="{{amount_complete | pretty_percent_small}} complete this course">{{amount_complete | pretty_percent_small}}</h3>
        <hr class="push-1-2">
        <h3 class="mega not-bold push-1-2">Marking scheme</h3>
        <dl class="marking-scheme list-group-inline milli color-grey-dark">
          <dt class="push-0">Videos</dt>
          <dd class="push-0">
            <strong class="marking-scheme-amount">{{course.grading_scheme_algonquin.videos | pretty_percent_strip}}</strong>
            <span class="nano">(<span class="marking-scheme-total">{{course.totals.videos}}</span> @ {{course.totals.videos_each_algonquin | pretty_percent_small}} each)</span>
          </dd>
          <dt class="push-0">Activities</dt>
          <dd class="push-0">
            <strong class="marking-scheme-amount">{{course.grading_scheme_algonquin.activities | pretty_percent_strip}}</strong>
            <span class="nano">(<span class="marking-scheme-total">{{course.totals.activities}}</span> @ {{course.totals.activities_each_algonquin | pretty_percent_small}} each)</span>
          </dd>
          <dt class="push-0">Exercises</dt>
          <dd class="push-0">
            <strong class="marking-scheme-amount">{{course.grading_scheme_algonquin.exercises | pretty_percent_strip}}</strong>
            <span class="nano">(<span class="marking-scheme-total">{{course.totals.exercises}}</span> @ {{course.totals.exercises_each_algonquin | pretty_percent_small}} each)</span>
          </dd>
          <dt class="push-0">Projects</dt>
          <dd class="push-0">
            <strong class="marking-scheme-amount">{{course.grading_scheme_algonquin.projects | pretty_percent_strip}}</strong>
            <span class="nano">(<span class="marking-scheme-total">{{course.totals.projects}}</span> @ {{course.totals.projects_each_algonquin | pretty_percent_small}} each)</span>
          </dd>
        </dl>
      </div>
    </div>
    <div class="class class-outside unit [ xs-1 s-1 m-1-2 ] gutter-1-4 pad-t-1-2 pad-b">
      <div class="class-desc gutter-1-4">
        <h2 class="class-heading gutter-1-4 push-1-2 giga"><span>Assessments</span></h2>
        <ol class="list-group push-0">
          {% for item in course.assessments %}
            <li class="push-1-4">
              <h3 class="kilo push-0">
                <i class="icon i-3-4">
                  {% if item.grade %}
                    {% if item.grade.grade > 0 %}
                      <svg aria-label="Pass" title="Pass"><use xlink:href="#icon-grade-pass"></use></svg>
                    {% else %}
                      <svg aria-label="Fail" title="Fail"><use xlink:href="#icon-grade-fail"></use></svg>
                    {% endif %}
                  {% else %}
                    {% if item.assessment_each_algonquin == 0 %}
                      <svg class="color-grey-dark" aria-label="Not graded" title="Not graded"><use xlink:href="#icon-grade-closed"></use></svg>
                    {% else %}
                      <svg aria-label="Not submitted" title="Not submitted"><use xlink:href="#icon-grade-open"></use></svg>
                    {% endif %}
                  {% endif %}
                </i>
                <a href="{{item.url}}">{{item.name}}</a>
                <span class="not-bold micro color-grey">{{item.assessment_each_algonquin | pretty_percent_small}}</span>
              </h3>
              <small class="block micro italic">
                <i class="icon i-3-4"></i>
                {{item.assessment_type | title}}
                <span class="color-grey-dark">
                  {% if item.grading_type == 'pass_fail' %}· Complete/incomplete{% endif %}
                  {% if item.grading_type == 'letter_grade' %}· Letter grade{% endif %}
                </span>
                {% if item.assessment_type == 'exercise' %} <span class="color-grey-dark">·</span> <a href="https://{{username}}.github.io/{{item.id}}/">View on GitHub »</a>{% endif %}
              </small>
            </li>
          {% endfor %}
        </ol>
      </div>
    </div>
  </div>
{% endblock %}
